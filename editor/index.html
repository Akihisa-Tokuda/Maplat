<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--meta name="viewport" content="width=device-width, initial-scale=1"-->
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Theme Template for Bootstrap</title>

  <!-- Bootstrap core CSS -->
  <link href="common/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/non-responsive.css" rel="stylesheet">
  <!-- Bootstrap theme -->
  <link href="common/css/bootstrap-theme.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="common/css/ol.css" rel="stylesheet">
  <link href="css/theme.css" rel="stylesheet">
</head>

<body>

<!-- Fixed navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Bootstrap theme</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li class="dropdown-header">Nav header</li>
            <li><a href="#">Separated link</a></li>
            <li><a href="#">One more separated link</a></li>
          </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div class="container main" role="main">
  <div class="row title-container">
    <div class="col-xs-12">
      <span class="map-title">タイトル未設定</span>
    </div>
  </div>
  <!-- タブ・メニュー -->
  <ul class="nav nav-tabs nav-justified" role="tablist">
    <li class="active"><a href="#sampleContentA" data-toggle="tab" role="tab">メタデータ</a></li>
    <li><a href="#sampleContentB" data-toggle="tab" role="tab">対応点設定</a></li>
    <li><a href="#sampleContentC" data-toggle="tab" role="tab">ランドマーク設定</a></li>
    <li class="disabled"><a href="#sampleContentD" role="tab">タブＤ</a></li>
  </ul>

  <!-- タブ内容 -->
  <div class="tab-content">
    <div class="tab-pane active" id="sampleContentA">
      <p>タブＡの内容</p>
    </div>
    <div class="tab-pane h100" id="sampleContentB">
      <div class="row h100">
        <div id="map1" class="col-xs-6 h100">
        </div>
        <div id="map2" class="col-xs-6 h100">
        </div>
      </div>
    </div>
    <div class="tab-pane" id="sampleContentC">
      <p>タブＣの内容</p>
    </div>
    <div class="tab-pane" id="sampleContentD">
      <p>タブＤの内容</p>
    </div>
  </div>
</div> <!-- /container -->

<div class="modal" id="staticModal" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true" data-show="true" data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&#215;</span><span class="sr-only">閉じる</span>
        </button>
        <h4 class="modal-title">Static Modal タイトル</h4>
      </div><!-- /modal-header -->
      <div class="modal-body">
        <p class="recipient">本文</p>
        <p>
          <a class="btn btn-info" href="#001" data-dismiss="modal">data-dismiss 有り</a>
          <a class="btn btn-info" href="#002">data-dismiss 無し</a>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">閉じる</button>
        <button type="button" class="btn btn-primary">変更を保存</button>
      </div>
    </div> <!-- /.modal-content -->
  </div> <!-- /.modal-dialog -->
</div> <!-- /.modal -->

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!--script src="common/js/bootstrap-native.min.js"></script-->
<script src="common/js/ol-debug.js"></script>
<script>
    var bsn = require('./common/js/bootstrap-native.min');
    const {ipcRenderer} = require('electron');
    var map1 = new ol.Map({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.OSM()
            })
        ],
        target: 'map1',
        controls: ol.control.defaults({
            attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
                collapsible: false
            })
        }),
        view: new ol.View({
            center: [0, 0],
            zoom: 2
        })
    });
    var map2 = new ol.Map({
        layers: [
            new ol.layer.Tile({
                source: new ol.source.OSM()
            })
        ],
        target: 'map2',
        controls: ol.control.defaults({
            attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
                collapsible: false
            })
        }),
        view: new ol.View({
            center: [0, 0],
            zoom: 2
        })
    });

    var myModal = new bsn.Modal(document.getElementById('staticModal'), {});

    ipcRenderer.on('showModal', function(event, arg) {
        myModal.show();
    });

    ipcRenderer.on('hideModal', function(event, arg) {
        myModal.hide();
    });

    var myMapTab = document.querySelector('a[href="#sampleContentB"]');
    myMapTab.addEventListener('shown.bs.tab', function(event) {
        map1.updateSize();
        map2.updateSize();
    });
</script>
</body>
</html>